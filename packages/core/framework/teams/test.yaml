# ─────────────────────────────────────────
# SNIPER Test & Coverage Audit Team
# Structured test quality analysis
# ─────────────────────────────────────────

# Phase 1 (Analysis) spawns 2 agents in parallel:
#   - coverage-analyst: identifies coverage gaps ranked by risk
#   - flake-hunter: investigates flaky tests and diagnoses root causes
#
# Phase 2 (Planning) is run by the lead to generate improvement stories.
# Phase 3 (Execution) uses the standard sprint infrastructure.
#
# This team YAML is used by /sniper-audit --target tests.

team_name: sniper-test-audit-{audit_id}
description: "Test & Coverage Audit: {audit_title}"
model_override: null

teammates:
  - name: coverage-analyst
    compose:
      process: coverage-analyst
      technical: null
      cognitive: systems-thinker
    tasks:
      - id: coverage-analysis
        output: coverage-report.md
        blocked_by: []
    plan_approval: false

  - name: flake-hunter
    compose:
      process: flake-hunter
      technical: null
      cognitive: devils-advocate
    tasks:
      - id: flake-investigation
        output: flaky-report.md
        blocked_by: []
    plan_approval: false

# Phase 3 (Execution) reuses sprint teammates from sprint.yaml

coordination: []

review_gate:
  checklist: .sniper/checklists/test-review.md
  mode: flexible
