name: ingest-scan
description: Ingest scan phase quality gate â€” verifies codebase overview was produced

checks:
  - id: codebase_overview_exists
    description: Codebase overview document exists
    check: file:docs/codebase-overview.md
    blocking: true

  - id: overview_has_structure
    description: Overview includes project structure section
    check: grep:docs/codebase-overview.md:"## "
    blocking: false

  - id: overview_nonempty
    description: Overview is not a stub (at least 50 lines)
    command: "test $(wc -l < docs/codebase-overview.md) -ge 50"
    blocking: false
